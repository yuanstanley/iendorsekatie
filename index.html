<!DOCTYPE html>
<html class="no-js" lang="en-us">

<head>
  <meta charset="utf-8">
  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge'><![endif]-->
  <title>I Endorse Katie Porter</title>
  <meta name="description" content="Generate your own Congresswoman Katie Porter endorsement graphic">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="supported-color-schemes" content="light dark">
  <!-- fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:800,700,500,400,300|Caveat">
  <!-- css -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <meta name="theme-color" content="#fafafa">

  <link rel="icon" href="img/favicons/favicon-32.png" sizes="32x32">
  <link rel="icon" href="img/favicons/favicon-128.png" sizes="128x128">
  <link rel="icon" href="img/favicons/favicon-192.png" sizes="192x192">
  <link rel="shortcut icon" href="img/favicons/favicon-196.png" sizes="196x196">
  <link rel="apple-touch-icon" href="img/favicons/favicon-152.png" sizes="152x152">
  <link rel="apple-touch-icon" href="img/favicons/favicon-167.png" sizes="167x167">
  <link rel="apple-touch-icon" href="img/favicons/favicon-180.png" sizes="180x180">
</head>

<body>
  <header>
    <section>
      <article class="textual">
        <h1>I Endorse Katie Porter</h1>
        <p>Create your own endorsement graphic for Congresswoman Katie Porter to share over Instagram, Twitter, Facebook, emails,
          and more!</p>
        <p>Visit <a href="https://katieporter.com/">KatiePorter.com</a> to learn more and get involved.</a>
        </p>
      </article>
    </section>
  </header>
  <!--[if lt IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please
      <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
    </p><![endif]-->
  <main class="requires-js">
    <section>
      <article class="textual">
        <div class="group">
          <div class="ksbox half">
            <form>
              <div>
                <label>Name:
                  <input id="name-input" type="text" minlength="4" maxlength="30" required>
                </label>
              </div>
              <div>
                <label>Why you endorse Congresswoman Katie Porter:
                  <textarea id="quotation" rows="6" minlength="3" required></textarea>
                </label>
              </div>
              <div>
                <label><img id="avatarImage" style="display:none">Photo: (a 4x6 portrait photo works best)
                  <input id="uploadAvatar" type="file" value="upload image" onchange="readURL(this);">
                </label>
              </div>
              <div>
                <button id="generate" type="submit">Generate image</button>
              </div>
            </form>
          </div>
          <div class="ksbox half" id="canvasContainer">
            <canvas id="canvas" width="1600" height="1200" style="max-width:100%; display:none"></canvas><img
              id="canvasImg" src="img/example.png">
            <div id="saveContainer" style="display:none">
              <p>
                Image has been generated! Feel free to adjust it to your liking.
              </p>
              <p style="font-size:80%"><b>Known issues:</b> If the fonts aren't quite right, try re-generating your
                image. And certain photos may be rotated incorrectly depending on the orientation of your phone's
                camera. If you are on an <b>iPhone</b> <a
                  href="https://www.businessinsider.com/where-do-downloads-go-on-iphone">read this</a> to access your
                image. For now, do not use <b>Firefox</b> browser.</p>
              <p><a class="button" id="download" href="#">Download Image</a></p>
            </div>
          </div>
        </div>
      </article>
    </section>
  </main>
  <footer>
    <p>
      For personal use only. Do not use to mislead people; use your own image only. No information collected in the use of this website will be used by the campaign or shared with any party.
    </p>
    <p>
      Questions? Contact <a style="color:var(--color-orange);" href="https://twitter.com/teamporteroc">teamporteroc</a>. Inspired by <a style="color:var(--color-orange);" href="https://twitter.com/danwood">Dan Wood</a>â€™s endorsement sites.
    </p>
    <p style="border: solid; text-align: center; padding: 0;">
      PAID FOR BY KATIE PORTER FOR CONGRESS
    </p>
  </footer>
</body>
<div class="js-warning">This page requires JavaScript! </div>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.4.1.min.js"><\\/script>')</script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>
<script>
  document.documentElement.className = document.documentElement.className.replace("no-js", "js");

</script>
<script>
  $("a#download").on('click', function () {
    $(this).attr('download', 'I_Endorse_Katie_Porter.png');
    $(this).attr('href', canvas.toDataURL("image/png").replace("image/png", "image/octet-stream"));
  });

  $("#generate").on('click', function () {

    // Set globals

    name = $('#name-input').val().trim();
    quotation = $('#quotation').val().trim();

    plural = $('#plural').is(':checked');

    avatarImageSrc = $("#avatarImage").attr('src');

    if (name.length < 4 || quotation.length < 3) {
      alert("Please fill in all of the blanks with enough information");
    }
    else if (avatarImageSrc === undefined && $('#test-input').val() != 1) {
      alert("Please upload your image");
    }
    else {
      startGeneratingImage();
    }

    return false;
  });

</script>
<script>
  function readURL(input) {
    $("#avatarImage").css("display", "block");

    if (input.files && input.files[0]) {
      var reader = new FileReader();
      reader.onload = function (e) {
        $("#avatarImage").attr('src', e.target.result);
      }

      reader.readAsDataURL(input.files[0]);
    }
  }
</script>

</html>
